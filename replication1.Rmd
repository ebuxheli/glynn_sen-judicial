---
title: "Daughters"
author: "Enxhi Buxheli and John LaVelle"
date: "2/2/2019"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)

# Attaching necessary libraries
library(tidyverse)
library(dplyr)
library(janitor)
library(knitr)
library(kableExtra)
library(gt)

# Global option used in table to replace NAs with '-' for aesthetics
options(knitr.kable.NA = '-')

# Loading in the data
case_data  <- read_csv("dataverse_files/glynn_sen_daughters_by_case_1.csv") %>% clean_names()
judge_data <- read_csv("dataverse_files/glynn_sen_daughters_by_judge.csv") %>% clean_names()
```

```{r}
# Table 1: Number of Children and Girls for U.S. Courts of Appeals Judges 
#          Participating in Gender-Related Cases, 1996-2002
# Here we are keeping the # of children, # of girls, & party affiliation and
# building a count table. Additionally, here the party name is recoded to be
# more friendly to a reader of the table ("Republicans" and "Democrats")
t1 <- select(judge_data,
              child, girls, republican) %>% 
  filter(child < 10, girls < 10) %>% 
  mutate(party = ifelse(1 == republican, "Republicans", "Democrats"))

# Number of Children portion of the table
t1_child <- t1 %>% 
  count(party, child) %>% 
  spread(child, n)

# Number of Girls portion of the table
t1_girls <- t1 %>% 
  count(party, girls) %>% 
  spread(girls, n)

# Binding the rows to create one table with girls and children
t1_combined <- bind_rows(t1_child, t1_girls) %>% 
  kable("latex", booktabs = T) %>% column_spec(1, bold = T)

# Styling the table to make it look like the original figure
t1_combined %>% 
  group_rows("Number of Children", 1, 2, bold = TRUE) %>% 
  group_rows("Number of Girls", 3, 4, hline_before = T)
```